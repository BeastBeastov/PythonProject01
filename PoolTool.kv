
<MyGrid@GridLayout>
    rows: 7
    spacing: 25
    padding: 50
    halign: 'center'
<HeadLabel@MDLabel>
    font_size: '35sp'
    halign: 'center'
    valign: 'center'
    text_size: self.size
    bold: True
    italic: True
<H1Label@MDLabel>
    font_size: '25sp'
    valign: 'center'
    halign: 'center'
    text_size: self.size
    size_hint: 1, 0.15
    italic: True
<ItemLabel@MDLabel>
    halign: 'left'
    font_size: '20sp'
    valign: 'center'
    text_size: self.size
<MyButton@MDRaisedButton>
    size_hint: 1, 0.1
    font_size: '30sp'
    halign: 'center'
<My1Button@MDRaisedButton>
    size_hint: 1, 0.1
    font_size: '20sp'
    halign: 'center'
<MyFloatInput@MDTextField>
    halign: 'right'
    font_size: '30sp'
    input_type: 'number'
    input_filter: 'float'
    multiline: False

<PainterWidget>

<Container>
    login: login
    pwd: pwd
    length1: length1
    width1: width1
    length2: length2
    width2: width2
    length3: length3
    width3: width3
    perimeter: perimeter
    metal_profile: metal_profile
    buttress: buttress
    bolts: bolts
    nuts: nuts
    washers: washers
    screws: screws
    concrete: concrete
    steel: steel
    stone: stone
    sand: sand
    block: block
    plaster: plaster
    putty: putty
    glue: glue
    pw: pw
    liner: liner
    corner: corner
    liquid: liquid
    dowel: dowel
    side_stone: side_stone
    grout: grout
    silicone: silicone
    diametr1: diametr1
    diametr: diametr
    thickness: thickness
    lenroll: lenroll

    Screen:
        name: 'login'
        AnchorLayout:
            BoxLayout:
                orientation: 'vertical'
                padding: 25
                spacing: 50
                size_hint: 0.8, 0.3
                MDTextField:
                    id: login
                    halign: 'center'
                    font_size: '35sp'
                    multiline: False
                    hint_text: 'логин'
                MDTextField:
                    id: pwd
                    halign: 'center'
                    font_size: '35sp'
                    multiline: False
                    password: True
                    password_mask: '*'
                    hint_text: 'пароль'
                MyButton:
                    size_hint: 1, 0.1
                    text: 'Войти'
                    on_press:
                        root.startlogin()

    Screen:
        name: 'menu'
        MyGrid:
            HeadLabel:
                text: 'Меню'
            MyButton:
                text: 'Настройки'
                size_hint: 0.9, 0.05
                on_press:
                    root.settings()
            MyButton:
                text: 'Расчеты'
                size_hint: 0.9, 0.05
                on_press:
                    root.calcs()
            MyButton:
                text: 'Проекты'
                size_hint: 0.9, 0.05
                on_press:
                    root.projects()
            MyButton:
                text: 'Painter'
                size_hint: 0.9, 0.05
                on_press:
                    root.painter()
            MyButton:
                text: 'Выход'
                size_hint: 0.9, 0.05
                on_press:
                    root.start()
    Screen:
        name: 'settings'
        MyGrid:
            HeadLabel:
                text: 'Настройки'
            MyButton:
                text: 'Профиль'
                size_hint: [1, 0.1]
                on_press:
                    root.profile()
            MyButton:
                text: 'Назад'
                size_hint: [1, 0.1]
                on_press:
                    root.menu()
    Screen:
        name: 'profile'
        MyGrid:
            HeadLabel:
                text: 'Профиль'
            MyButton:
                text: 'Настройки'
                size_hint: 1, 0.1
                on_press:
                    root.settings()
            MyButton:
                text: 'Назад'
                size_hint: 1, 0.1
                on_press:
                    root.menu()
    Screen:
        name: 'calcs'
        MyGrid:
            rows: 8
            HeadLabel:
                text: 'Расчеты'
            My1Button:
                text: 'Расчет материалов опалубки'
                size_hint: 1, 0.1
                on_press:
                    root.form_mc()
            My1Button:
                text: 'Расчет местных стройматериалов'
                size_hint: 1, 0.1
                on_press:
                    root.local_mc()
            My1Button:
                text: 'Расчет облицовочных материалов'
                size_hint: 1, 0.1
                on_press:
                    root.face_mc()
            My1Button:
                text: 'Расчет длины материала в рулоне'
                size_hint: 1, 0.1
                on_press:
                    root.len_mc()
            My1Button:
                text: 'Расчет работ и услуг'
                size_hint: [1, 0.1]
                on_press:
                    root.wsc()
            My1Button:
                text: 'Назад'
                size_hint: 1, 0.1
                on_press:
                    root.menu()

    Screen:
        name: 'form_mc'
        MyGrid:
            rows: 4
            H1Label:
                text: 'Расчет материалов опалубки'
            BoxLayout:
                orientation: 'vertical'
                size_hint: 0.7, 0.2
                halign: 'center'
                MyFloatInput:
                    id: length1
                    hint_text: 'длина в метрах'
                MyFloatInput:
                    id: width1
                    hint_text: 'ширина в метрах'
            GridLayout:
                size_hint: 0.9, 0.6
                cols: 2
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: 0.75, 1
                    ItemLabel:
                        text: 'Периметр'
                    ItemLabel:
                        text: 'Профиль 40х20х1.5мм'
                    ItemLabel:
                        text: 'Контрфорсы'
                    ItemLabel:
                        text: 'Болты М8х35'
                    ItemLabel:
                        text: 'Гайки М10'
                    ItemLabel:
                        text: 'Шайбы М8'
                    ItemLabel:
                        text: 'Кров.саморезы М6х16'
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: 0.25, 1
                    ItemLabel:
                        id: perimeter
                        text: '0 м'
                    ItemLabel:
                        id: metal_profile
                        text: '0 м'
                    ItemLabel:
                        id: buttress
                        text: '0 шт'
                    ItemLabel:
                        id: bolts
                        text: '0 шт'
                    ItemLabel:
                        id: nuts
                        text: '0 шт'
                    ItemLabel:
                        id: washers
                        text: '0 шт'
                    ItemLabel:
                        id: screws
                        text: '0 шт'
            BoxLayout:
                size_hint: 0.9, 0.1
                spacing: 25
                My1Button:
                    size_hint: 0.4, 0.8
                    text: 'Рассчитать'
                    on_press:
                        root.calc_formwork_materials()
                My1Button:
                    size_hint: 0.4, 0.8
                    text: 'Назад'
                    on_press:
                        root.back_to_calcs()

    Screen:
        name: 'local_mc'
        MyGrid:
            rows: 4
            H1Label:
                text: 'Расчет местных стройматериалов'
            BoxLayout:
                orientation: 'vertical'
                size_hint: 0.7, 0.2
                halign: 'center'
                MyFloatInput:
                    id: length2
                    hint_text: 'длина в метрах'
                MyFloatInput:
                    id: width2
                    hint_text: 'ширина в метрах'
            GridLayout:
                size_hint: 0.9, 0.6
                cols: 2
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: 0.75, 1
                    ItemLabel:
                        text: 'Бетон М350'
                    ItemLabel:
                        text: 'Арматура 8мм и 10мм'
                    ItemLabel:
                        text: 'Щебень для подсыпки фр.5-20'
                    ItemLabel:
                        text: 'Песок для обратной засыпки'
                    ItemLabel:
                        text: 'Блоки 400х200х200мм'
                    ItemLabel:
                        text: 'Штукатурная смесь по 25кг'
                    ItemLabel:
                        text: 'Шпатлевка по 20 кг'
                    ItemLabel:
                        text: 'Клей плиточный по 25кг'
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: 0.2, 1
                    ItemLabel:
                        id: concrete
                        text: '0 м'
                    ItemLabel:
                        id: steel
                        text: '0 м'
                    ItemLabel:
                        id: stone
                        text: '0 шт'
                    ItemLabel:
                        id: sand
                        text: '0 шт'
                    ItemLabel:
                        id: block
                        text: '0 шт'
                    ItemLabel:
                        id: plaster
                        text: '0 шт'
                    ItemLabel:
                        id: putty
                        text: '0 шт'
                    ItemLabel:
                        id: glue
                        text: '0 шт'
            BoxLayout:
                size_hint: 0.9, 0.1
                spacing: 25
                My1Button:
                    size_hint: 0.4, 0.8
                    text: 'Рассчитать'
                    on_press:
                        root.calc_local_materials()
                My1Button:
                    size_hint: 0.4, 0.8
                    text: 'Назад'
                    on_press:
                        root.back_to_calcs()
    Screen:
        name: 'face_mc'
        MyGrid:
            rows: 4
            H1Label:
                text: 'Расчет облицовочных материалов'
            BoxLayout:
                orientation: 'vertical'
                size_hint: 0.7, 0.2
                halign: 'center'
                MyFloatInput:
                    id: length3
                    hint_text: 'длина в метрах'
                MyFloatInput:
                    id: width3
                    hint_text: 'ширина в метрах'
            GridLayout:
                size_hint: 0.9, 0.6
                cols: 2
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: 0.75, 1
                    ItemLabel:
                        text: 'ПВХ Лайнер 1,5мм'
                    ItemLabel:
                        text: 'Уголок с напылением ПВХ 50х30мм'
                    ItemLabel:
                        text: 'Уплотнитель ПВХ 1л'
                    ItemLabel:
                        text: 'Дюбель 6х60мм'
                    ItemLabel:
                        text: 'Бортовой камень 600х300мм'
                    ItemLabel:
                        text: 'Декоративный цемент по 2кг'
                    ItemLabel:
                        text: 'Силиконовый герметик'
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: 0.25, 1
                    ItemLabel:
                        id: liner
                        text: '0 м'
                    ItemLabel:
                        id: corner
                        text: '0 м'
                    ItemLabel:
                        id: liquid
                        text: '0 шт'
                    ItemLabel:
                        id: dowel
                        text: '0 шт'
                    ItemLabel:
                        id: side_stone
                        text: '0 шт'
                    ItemLabel:
                        id: grout
                        text: '0 шт'
                    ItemLabel:
                        id: silicone
                        text: '0 шт'
            BoxLayout:
                size_hint: 0.9, 0.1
                spacing: 25
                My1Button:
                    size_hint: 0.4, 0.8
                    text: 'Рассчитать'
                    on_press:
                        root.calc_face_materials()
                My1Button:
                    size_hint: 0.4, 0.8
                    text: 'Назад'
                    on_press:
                        root.back_to_calcs()
    Screen:
        name: 'liner'
        MyGrid:
            H1Label:
                text: 'Расчет длины материала в рулоне'
            BoxLayout:
                orientation: 'vertical'
                spacing: 25
                size_hint:  0.7, 0.8
                MDLabel:
                    text: 'Внешний диаметр рулона (мм)'
                MyFloatInput:
                    id: diametr1
                    hint_text: '250'
                MDLabel:
                    text: 'Внутренний диаметр рулона (мм)'
                MyFloatInput:
                    id: diametr
                    hint_text: '120'
                MDLabel:
                    text: 'Толщина материала в рулоне (мм)'
                MyFloatInput:
                    id: thickness
                    hint_text: '1.5'
                ItemLabel:
                    text: 'Результат :'
                ItemLabel:
                    id: lenroll
                    text : '0 м'

            BoxLayout:
                size_hint: 0.9, 0.1
                spacing: 25
                My1Button:
                    size_hint: 0.4, 0.8
                    text: 'Рассчитать'
                    on_press:
                        root.calc_length_per_roll()
                My1Button:
                    size_hint: 0.4, 0.8
                    text: 'Назад'
                    on_press:
                        root.back_to_calcs()

    Screen:
        name: 'painter'
        PainterWidget:
            id: pw
        GridLayout:
            cols: 3
            size_hint: 0.9, 0.07
            padding: 50
            spacing: 25
            My1Button:
                text: 'Очистить'
                size_hint: 0.3, 1
                on_press:
                    pw.clear_canvas()
            My1Button:
                text: 'Сохранить'
                size_hint: 0.3, 1
                on_press:
                    pw.save()
            My1Button:
                text: 'Назад'
                size_hint: 0.3, 1
                on_press:
                    root.menu()


